<div class="login">
  <app-header></app-header>

  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <div class="register-form">
      <h1 style="color: aliceblue">Register</h1>
      <!-- Username -->
      <input type="text" class="login__input" placeholder="User Name" formControlName="name" />
      <div *ngIf="!name?.valid && (name?.dirty || name?.touched)">
        <div *ngIf="name.errors?.['required']" class="invalid">
          Username is required
        </div>
      </div>

      <!-- Email -->
      <input type="text" class="login__input" placeholder="Email" id="email" formControlName="email" />
      <div *ngIf="!email?.valid && (email?.dirty ||email?.touched)">
        <div *ngIf="email.errors?.['hasemail']" class="invalid">
          email already exist! Try another...
        </div>

        <div *ngIf="email.errors?.['required']" class="invalid">
          email is required
        </div>
        <div *ngIf="email.errors?.['email']" class="invalid">
          Invalid Email
        </div>

      </div>

      <div formGroupName="pwd">
        <input type="text" class="login__input" placeholder="Password" formControlName="password" />
        <input type="text" class="login__input" placeholder="Password Confirmation" formControlName="confirm" />
      </div>

      <div *ngIf="!pwd.get('password')?.valid && (pwd.get('password')?.dirty || pwd.get('password')?.touched)">
        <div *ngIf="pwd.get('password')?.errors?.['minlen']" class="invalid">
          password should longger then
          {{pwd.get('password')?.errors?.['requiredLength']}}
        </div>
      </div>
      

      <div *ngIf="!pwd.valid && (pwd.dirty || pwd.touched)">
        <div *ngIf="pwd.errors?.[pwdNotMatch]" class="invalid">
          password not matched!
        </div>
      </div>
      <button type="submit" class="register-btn">Register</button>
      <span>Already Have account <a routerLink="/login">*Login*</a></span>
    </div>
  </form>


</div>